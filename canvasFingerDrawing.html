<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CanvasDrawingApp</title>
	
<style type="text/css">

</style>	
	
	
</head>
<body>


<canvas id="canvas">
</canvas>

<br>

<button id="clear-btn">CLEAR</button>
<button id="red">RED</button>
<br>

<label for"inputX">Xcoord</label>
<br>
<input id="inputX" type="text" >
<br>

<label for="inputY">Ycoord</label>
<br>
<input id="inputY" type="text" >

<span id="demo"></span>


<script>
//demo.innerHTML = variable; //used for testing output
//let demo = document.getElementById("demo");


const WIDTH = 500;
const HEIGHT = 500;
const cvs = document.querySelector("#canvas");
	cvs.style.width  = `${WIDTH}px`;
	cvs.style.height = `${HEIGHT}px`;
const ctx = cvs.getContext('2d');
const clearBtn = document.getElementById("clear-btn");

const inputX = document.querySelector("#inputX");//display for X touch
const inputY = document.querySelector("#inputY");//display for Y touch

const touches =[];


//functions

const clearButton=function(){
	ctx.clearRect(0,0,WIDTH, HEIGHT );
};

const logCoordinates=function(event){
//likely need to add adjustment for cvs positions touch events are misplaced. 	
//var rect = e.target.getBoundingClientRect();
//var x = e.targetTouches[0].pageX - rect.left;
//var y = e.targetTouches[0].pageY - rect.top;


	let x = event.touches[0].clientX - cvs.clientX;
		inputX.value = x;
	let y = event.touches[0].clientY - cvs.clientY;
		inputY.value= y;
	//console.log([`${x}, ${y}`]);
	touches.push([[x], [y]]);
};

const drawCoordPair = function(arr){
	
	for(let i = 0; i<arr.length; i++){
		ctx.fillRect(arr[i][0], arr[i][1],3,3);
	}
};

const DRAW = function(){

	drawCoordPair(touches);

};




//event handlers
clearBtn.addEventListener("click", clearButton, false);
cvs.addEventListener("touchstart", logCoordinates, false);
cvs.addEventListener("touchmove", logCoordinates, false);


cvs.addEventListener("touchend", DRAW, false);

</script>

</body>
</html>